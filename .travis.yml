os: osx
osx_image: xcode8.2
language: objective-c
sudo: false

env:
  global:
    - THEOS=~/theos
    - SDKVERSION=10.1
    - SYSROOT=~/theos/sdks/iPhoneOS10.1.sdk

before_install:
  - HOMEBREW_NO_AUTO_UPDATE=1 brew install --force-bottle https://raw.githubusercontent.com/Homebrew/homebrew-core/7a4dabfc1a2acd9f01a1670fde4f0094c4fb6ffa/Formula/dpkg.rb
  - HOMEBREW_NO_AUTO_UPDATE=1 brew install ldid

  - git clone --recursive git://github.com/theos/theos.git ~/theos
  - rm -rf ~/theos/sdks
  - git clone --recursive git://github.com/theos/sdks.git ~/theos/sdks

script:
  - cd Redstone
  - make package
